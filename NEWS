This file contains the same edited highlights as the announcement emails.
For full details, see the ChangeLog in tarballs, or "git log" in Git
checkouts.

telepathy-spec 0.23.0 (UNRELEASED)
==================================

telepathy-spec 0.22.0 (2011-03-21)
==================================

The “literate small talk” release.

This is a new stable version of telepathy-spec, intended to serve as a
reference point for future work. There were no API changes since
development release 0.21.13; significant additions and changes to
non-DRAFT interfaces from the year-and-a-half of development since
0.20.0 are summarized below.

The versions of libraries, connection managers and Mission Control
recommended for use with GNOME 3.0 (such as the upcoming telepathy-glib
0.14) can be expected to support most of the API from this spec release.

Changes to existing API
-----------------------

• Handles are no longer expected to be reference-counted - instead, they
  persist as long as the Connection does. A new property,
  HasImmortalHandles, indicates whether this is the case. Versions of
  telepathy-glib since 0.13.8 implement these semantics, and set that
  property, automatically for most connection managers.

• message-token has been redefined from "globally unique"
  to "whatever's in the underlying protocol", replacing the unimplemented
  protocol-token. This makes it feasible to implement message-token again.
  Note that connection managers implementing message-token should not be
  backported to Maemo 5, since its event logger assumes that message-token
  is guaranteed to be unique, which is usually unimplementable.

• The Messages interface is now mandatory for Text channels.

Enhancements to core API
------------------------

• The Connection has a pair of new methods, AddClientInterest and
  RemoveClientInterest, to allow clients to subscribe to potentially
  bandwidth-costly interfaces (such as MailNotification) in a generic
  way.

• ChannelDispatcher and ChannelRequest now support "request hints"
  (metadata passed through from the requester to the handler), and the
  SucceededWithChannel signal.

New optional interfaces
-----------------------

• The ContactList and ContactGroups interfaces for
  connections are now considered stable, and a new ContactBlocking
  interface has been added. Between them, these interfaces replace
  ContactList channels.

• The Connection.Interface.ClientTypes,
  Connection.Interface.MailNotification,
  Connection.Interface.Powersaving, and Protocol.Interface.Presence
  interfaces are now considered stable.

• Chan.T.ServerAuthentication and Chan.I.SASLAuthentication provide
  interactive querying for credentials, allowing connection without
  saving a password if there is a handler for these channels

• Chan.I.Securable indicates whether a channel is secure

• Account.Interface.Addressing stores user preferences for use of
  accounts for non-primary protocols, such as using SIP for telephony.

Enhancements to optional interfaces
-----------------------------------

• Add a FileTransfer.URI property which can be used to tell other
  Telepathy clients about the location of the transferred
  file.

Changes since 0.21.13
---------------------

• A server-message key for the Details dictionary in the ConnectionError
  signal has been defined. (wjt)
