<?xml version="1.0" ?>
<node name="/Call_Stream"
  xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
  <tp:copyright>Copyright © 2009 Collabora Ltd.</tp:copyright>
  <tp:copyright>Copyright © 2009 Nokia Corporation</tp:copyright>
  <tp:license xmlns="http://www.w3.org/1999/xhtml">
    <p>This library is free software; you can redistribute it and/or
      modify it under the terms of the GNU Lesser General Public
      License as published by the Free Software Foundation; either
      version 2.1 of the License, or (at your option) any later version.</p>

    <p>This library is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
      Lesser General Public License for more details.</p>

    <p>You should have received a copy of the GNU Lesser General Public
      License along with this library; if not, write to the Free Software
      Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
      02110-1301, USA.</p>
  </tp:license>

  <interface name="org.freedesktop.Telepathy.Call.Stream.Draft"
      tp:causes-havoc="experimental">
    <tp:added version="0.17.UNRELEASED">(as a draft)</tp:added>

    <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
      One stream inside a content
      FIXME, direction should be a mapping of contact -> (bool)sending ?
    </tp:docstring>

    <method name="SetSending" tp:name-for-bindings="Set_Sending">
      <arg name="Send" tp:name-for-bindings="Send" type="b" direction="in">
        <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
          <p>Set the stream to start or stop sending media</p>
        </tp:docstring>
      </arg>

      <tp:possible-errors>
        <tp:error name="org.freedesktop.Telepathy.Error.NotImplemented">
          <tp:docstring>
          </tp:docstring>
        </tp:error>
      </tp:possible-errors>
    </method>

    <method name="RequestReceiving" tp:name-for-bindings="RequestReceiving">
      <arg name="Receive" tp:name-for-bindings="Receive"
          type="b" direction="in">
        <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
          <p>Request to start receiving media over this stream</p>
          FIXME should this actually be on an interface, on most protocols
          it's not very meaningful afaik?
        </tp:docstring>
      </arg>

      <tp:possible-errors>
        <tp:error name="org.freedesktop.Telepathy.Error.NotImplemented">
          <tp:docstring>
          </tp:docstring>
        </tp:error>
      </tp:possible-errors>
    </method>

    <signal name="DirectionChanged" tp:name-for-bindings="Direction_Changed">
      <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
        <p>Emitted when the direction on a stream has changed</p>
      </tp:docstring>
      <arg name="CurrentDirection" tp:name-for-bindings="Current_Direction"
          type="u" tp:Type="Media_Stream_Direction">
        <tp:docstring>
          The new direction of this stream
        </tp:docstring>
       </arg>
      <arg name="PendingDirection" tp:name-for-bindings="Pending_Direction"
          type="u" tp:Type="Media_Stream_Pending_Direction">
        <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
          <p> The new pending direction of this stream </p>
          FIXME mu?
        </tp:docstring>
      </arg>
    </signal>

    <property name="CurrentDirection" tp:name-for-bindings="Current_Direction"
        type="u" access="read" tp:Type="Media_Stream_Direction">
      <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
        <p> The direction of this stream</p>
       </tp:docstring>
     </property>

    <property name="PendingDirection" tp:name-for-bindings="Pending_Direction"
        type="u" access="read" tp:Type="Media_Stream_Pending_Direction">
      <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
        <p> The pending direction of this stream </p>
        FIXME should move the a seperate interface like RequestReceiving ?
       </tp:docstring>
     </property>

  </interface>
</node>
<!-- vim:set sw=2 sts=2 et ft=xml: -->
