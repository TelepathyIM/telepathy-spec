<?xml version="1.0" ?>
<node name="/ChannelInterfacePassword" xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
  <tp:copyright>
    Copyright (C) 2005, 2006 Collabora Limited
Copyright (C) 2005, 2006 Nokia Corporation
Copyright (C) 2006 INdT
  </tp:copyright>
  <tp:license>
    This library is free software; you can redistribute it and/or
modify it under the terms of the GNU Lesser General Public
License as published by the Free Software Foundation; either
version 2.1 of the License, or (at your option) any later version.

This library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Library General Public License for more details.

You should have received a copy of the GNU Lesser General Public
License along with this library; if not, write to the Free Software
Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  </tp:license>
  <tp:flags typename="ChannelPasswordFlags">
    <tp:flag name="CHANNEL_PASSWORD_FLAG_PROVIDE" value="8"/>
  </tp:flags>
  <interface name="org.freedesktop.Telepathy.Channel.Interface.Password" tp:name-const="CHANNEL_INTERFACE_PASSWORD">
    <method name="GetPasswordFlags">
      <arg direction="out" type="u"/>
      <tp:docstring>
        Returns the logical OR of the flags relevant to the password on this
        channel.  The user interface can use this to present information about
        which operations are currently valid.

        These can be:
        8 - CHANNEL_PASSWORD_FLAG_PROVIDE
            the ProvidePassword method must be called now for the user to join the channel

        Returns:
        an integer with the logical OR of all the flags set

        Possible Errors:
        Disconnected, NetworkError
      </tp:docstring>
    </method>
    <signal name="PasswordFlagsChanged">
      <arg name="added" type="u"/>
      <arg name="removed" type="u"/>
      <tp:docstring>
        Emitted when the flags as returned by GetPasswordFlags are changed.
        The user interface should be updated as appropriate.

        Parameters:
        added - a logical OR of the flags which have been set
        removed - a logical OR of the flags which have been cleared
      </tp:docstring>
    </signal>
    <method name="ProvidePassword">
      <arg direction="in" name="password" type="s"/>
      <arg direction="out" type="b"/>
      <tp:docstring>
        Provide the password so that the channel can be joined. Must be
        called with the correct password in order for channel joining to
        proceed if the 'provide' password flag is set.

        Parameters:
        password - the password

        Returns:
        a boolean indicating whether or not the password was correct

        Possible Errors:
        Disconnected, NetworkError, InvalidArgument
      </tp:docstring>
    </method>
    <tp:docstring>
      Interface for channels that may have a password set that users need
    to provide before being able to join, or may be able to view or change
    once they have joined the channel.

    The GetPasswordFlags method and the associated PasswordFlagsChanged
    signal indicate whether the channel has a password, whether the user
    must now provide it to join, and whether it can be viewed or changed
    by the user.
    </tp:docstring>
  </interface>
</node>
<!-- vim:set sw=2 sts=2 et ft=xml: -->
